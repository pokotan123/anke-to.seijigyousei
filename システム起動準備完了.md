# システム起動準備完了

## ✅ 準備完了した内容

### 1. プロジェクト構造
- ✅ バックエンド（Node.js + Express + TypeScript）
- ✅ フロントエンド（Next.js + TypeScript + Tailwind CSS）
- ✅ データベーススキーマ（PostgreSQL）
- ✅ Docker Compose設定

### 2. コード実装
- ✅ 全機能の実装完了
- ✅ 構文エラーのチェック完了
- ✅ 型定義の確認完了

### 3. ドキュメント
- ✅ 要件定義書
- ✅ ER図
- ✅ 機能一覧
- ✅ 開発ガイド
- ✅ 起動ガイド
- ✅ クイックスタートガイド
- ✅ 動作確認チェックリスト

### 4. 起動スクリプト
- ✅ `start.sh` - 自動起動スクリプト

## 🚀 システムを起動する方法

### 前提条件のインストール

1. **Node.js 18以上**
   - ダウンロード: https://nodejs.org/
   - インストール確認: `node --version`

2. **Docker Desktop**（推奨）
   - ダウンロード: https://www.docker.com/products/docker-desktop
   - インストール確認: `docker --version`

   または

   **PostgreSQL 14以上 + Redis 6以上**を手動でインストール

### 起動手順

#### 方法1: 起動スクリプトを使用（最も簡単）

```bash
cd "/Users/yukio/Downloads/【政治行政】アンケートシステム"
./start.sh
```

このスクリプトが以下を自動実行します：
- 前提条件のチェック
- Docker Composeでデータベース起動
- 依存関係のインストール
- シードデータの投入
- バックエンド・フロントエンドの起動

#### 方法2: 手動で起動

詳細は [`クイックスタート.md`](./クイックスタート.md) を参照してください。

## 📋 起動後の確認事項

### 1. バックエンドの確認

ターミナルで以下を実行：
```bash
curl http://localhost:3001/health
```

期待されるレスポンス:
```json
{"status":"ok","timestamp":"2024-..."}
```

### 2. フロントエンドの確認

ブラウザで以下にアクセス：
- http://localhost:3000

### 3. 管理画面へのログイン

- URL: http://localhost:3000/admin/login
- ユーザー名: `admin`
- パスワード: `admin123`

### 4. サンプルアンケート

シードデータ実行後、以下のようなログが表示されます：
```
📋 Survey URL: http://localhost:3000/vote/{unique_token}
```

このURLにアクセスして投票画面を確認できます。

## 🔍 動作確認チェックリスト

詳細な動作確認項目は [`動作確認チェックリスト.md`](./動作確認チェックリスト.md) を参照してください。

主要な確認項目：
- [ ] バックエンドが起動している
- [ ] フロントエンドが起動している
- [ ] 管理画面にログインできる
- [ ] アンケートが作成できる
- [ ] 質問・選択肢が追加できる
- [ ] 投票が送信できる
- [ ] 分析ダッシュボードが表示される
- [ ] リアルタイム更新が動作する

## ⚠️ トラブルシューティング

### Node.jsがインストールされていない

**macOS**:
```bash
# Homebrewを使用
brew install node

# または公式サイトからインストール
# https://nodejs.org/
```

### Dockerがインストールされていない

**macOS**:
```bash
# Homebrewを使用
brew install --cask docker

# または公式サイトからインストール
# https://www.docker.com/products/docker-desktop
```

### ポートが使用中

既存のプロセスを確認・停止：
```bash
# ポート3001を使用しているプロセスを確認
lsof -i :3001

# ポート3000を使用しているプロセスを確認
lsof -i :3000

# プロセスを停止
kill -9 <PID>
```

### データベース接続エラー

1. PostgreSQLが起動しているか確認
2. `backend/.env`の`DATABASE_URL`が正しいか確認
3. データベースとユーザーが作成されているか確認

### Redis接続エラー

1. Redisが起動しているか確認
2. `backend/.env`の`REDIS_URL`が正しいか確認

## 📚 参考ドキュメント

- [`クイックスタート.md`](./クイックスタート.md) - 最短起動手順
- [`起動ガイド.md`](./起動ガイド.md) - 詳細な起動手順
- [`動作確認チェックリスト.md`](./動作確認チェックリスト.md) - 動作確認項目
- [`開発ガイド.md`](./開発ガイド.md) - 開発時の注意事項

## 🎯 次のステップ

1. **前提条件をインストール**
   - Node.js 18以上
   - Docker Desktop（推奨）

2. **システムを起動**
   ```bash
   ./start.sh
   ```

3. **動作確認**
   - 管理画面にログイン
   - アンケートを作成
   - 投票を実行
   - 分析ダッシュボードで確認

---

**準備完了日**: 2024年
**ステータス**: ✅ 起動準備完了

